import{_ as t,W as i,X as r,Y as a,Z as n,a0 as s,a2 as p,C as o}from"./framework-5d92cd28.js";const l={},c=a("h2",{id:"上手",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#上手","aria-hidden":"true"},"#"),n(" 上手：")],-1),d={id:"安装",tabindex:"-1"},h=a("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#",-1),u={href:"https://wordpress.org/support/article/how-to-install-wordpress/",target:"_blank",rel:"noopener noreferrer"},_=p(`<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>imitateweb网址账号：Mr.h  密码：111111

abc 网址账号：abc  密码：111111
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="资源" tabindex="-1"><a class="header-anchor" href="#资源" aria-hidden="true">#</a> 资源</h3>`,2),k={href:"https://www.jianshu.com/u/199fee2e0fd9",target:"_blank",rel:"noopener noreferrer"},g={href:"https://blog.wpjam.com/m/wp-theme-lesson-3-starting-indexphp/",target:"_blank",rel:"noopener noreferrer"},m={id:"高级样式",tabindex:"-1"},b=a("a",{class:"header-anchor",href:"#高级样式","aria-hidden":"true"},"#",-1),v={href:"https://www.kancloud.cn/gitcafe/yunluo_wp_code/1316529",target:"_blank",rel:"noopener noreferrer"},f=p(`<h3 id="创建网站准备" tabindex="-1"><a class="header-anchor" href="#创建网站准备" aria-hidden="true">#</a> 创建网站准备</h3><p>1 根目录下要有新的wordpress</p><p>2 创建一个数据库，在phpstudy中创建</p><p>3 phpstudy的mysql,Nginx/apache要运行起来</p><h2 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法：</h2><h3 id="链接" tabindex="-1"><a class="header-anchor" href="#链接" aria-hidden="true">#</a> 链接</h3><p>the_permalink() 日志的链接</p><p>bloginfo(‘url’) 首页链接</p><p>screenshot.png 该图片为主题预览图</p><h4 id="home-url" tabindex="-1"><a class="header-anchor" href="#home-url" aria-hidden="true">#</a> home_url</h4><p>介绍：首页地址</p><p>作用：更改成你希望访问的网址esc_url 主要用于URL过滤</p><p>例子：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$url</span> <span class="token operator">=</span> home_url（<span class="token string single-quoted-string">&#39;/&#39;</span>）<span class="token punctuation">;</span>
<span class="token keyword">echo</span> esc_url（<span class="token variable">$url</span>）<span class="token punctuation">;</span>
<span class="token comment">//输出：http://www.xuxiaoke.com/</span>
<span class="token variable">$url</span> <span class="token operator">=</span> home_url（<span class="token string single-quoted-string">&#39;example&#39;</span>，<span class="token string single-quoted-string">&#39;relative&#39;</span>）<span class="token punctuation">;</span>
<span class="token keyword">echo</span> esc_url（<span class="token variable">$url</span>）<span class="token punctuation">;</span>
<span class="token comment">//输出：/example</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分类相关" tabindex="-1"><a class="header-anchor" href="#分类相关" aria-hidden="true">#</a> 分类相关</h3>`,15),x={href:"http://www.thefox.cn/the-wordpress-topic-sidebar-adds-a-cla.shtml",target:"_blank",rel:"noopener noreferrer"},w=p(`<p>友情链接函数和获取链接函数</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$bookmarks</span> <span class="token operator">=</span> <span class="token function">get_bookmarks</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;category_name=wgrzfs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">wp_list_bookmarks</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title_li=0&amp;categorize=0&amp;category_name=wgrzfs&amp;orderby=rating&amp;limit=5&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>获取分类页标题和链接</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$category_id</span> <span class="token operator">=</span> <span class="token function">get_cat_ID</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;外国人在佛山&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$category_link</span> <span class="token operator">=</span> <span class="token function">get_category_link</span><span class="token punctuation">(</span><span class="token variable">$category_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="文章相关" tabindex="-1"><a class="header-anchor" href="#文章相关" aria-hidden="true">#</a> 文章相关</h3><p>显示上下篇文章</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">previous_post_link</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;%link&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;%title&#39;</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">next_post_link</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;%link&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;%title&#39;</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="模板文件" tabindex="-1"><a class="header-anchor" href="#模板文件" aria-hidden="true">#</a> 模板文件</h3><p>header.php: 通常用于描述网站标题和导航栏，可以在不同页面中多次使用</p><p>index.php:核心索引文件，包含日志标题、内容、元数据</p><p>single.php:通常包含页面列表、友情链接列表、存档列表、类别列表和其他一些列表</p><p>footer.php:用于注释版权信息，通常不会因页面的改变而改变，和header.php一样可在多个页面使用</p><p>page.php:文章类型的详情页模板文件</p><p>archieve.php:默认存档页</p><p>search.php:搜索页</p><h3 id="函数" tabindex="-1"><a class="header-anchor" href="#函数" aria-hidden="true">#</a> 函数</h3><ul><li>在index中的应用</li></ul><p>主循环: 以if while开始 endwhile endif 结束，用于遍历日志，可加else调用404模板</p><p>have_posts();置于if 中判断日志是否存在，没有则显示404</p><p>the_ID(); 赋予随机且各不相同的id，配合<code>id=”post- &lt;?php the_ID ?&gt;”</code>即可给每个日志赋予不同id</p><p>the_permalink();获取日志链接</p><p>the_title();显示日志标题</p><p>the_content;显示日志内容</p><p>the_exerpt();显示部分内容，可用于代替the_content</p><p>include:调用文件，例如</p><p>include(TEMPLATEPATH . ’/comments.php’)</p><p>comments_template(); 调用留言区</p><p>post_nav_link(); 不同页面间添加关联</p><p>get_sidebar(), get_header()...调用模板文件</p><ul><li>在header中的应用</li></ul><p>如何调用css样式</p><p><code>&lt;link herf=”&lt;?php bloginfo(‘stylesheet_url’) ?&gt;</code></p><p>bloginfo(‘url)、bloginfo(‘name’)、bloginfo(‘description’)</p><p>调用/显示主题链接、名字、描述</p><p>wp_nav_menu()调用菜单，要register_nav_menus()先注册菜单，方可使用</p><ul><li>在function中的应用</li></ul><p>add_action() 将函数连接到指定的动作</p><p>add_filter() 将函数连接到指定的过滤器动作，如可添加函数更改要显示的字体长度</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// 添加友情链接</span>
<span class="token function">add_filter</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;pre_option_link_manager_enabled&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;__return_true&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,39),y={href:"https://wordpress.org/support/article/how-to-install-wordpress/",target:"_blank",rel:"noopener noreferrer"},q=p(`<h3 id="其他" tabindex="-1"><a class="header-anchor" href="#其他" aria-hidden="true">#</a> 其他</h3><p>body_class() 根据不同页面类型判断body的class选择器,便于灵活控制不同页面的各个元素</p><p>thumbnail 缩略图</p><p>global 全局变量</p><h2 id="功能" tabindex="-1"><a class="header-anchor" href="#功能" aria-hidden="true">#</a> 功能：</h2><h3 id="在一模板文件传参给另一模板文件" tabindex="-1"><a class="header-anchor" href="#在一模板文件传参给另一模板文件" aria-hidden="true">#</a> 在一模板文件传参给另一模板文件</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">set_query_var</span><span class="token punctuation">(</span>‘i’<span class="token punctuation">,</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token comment">//模板文件中设置参数</span>
<span class="token variable">$i</span><span class="token operator">=</span> <span class="token function">get_query_var</span><span class="token punctuation">(</span>‘i’<span class="token punctuation">)</span><span class="token comment">//另一模板文件接收</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="上传文件大小限制-在php-ini-中修改" tabindex="-1"><a class="header-anchor" href="#上传文件大小限制-在php-ini-中修改" aria-hidden="true">#</a> 上传文件大小限制，在php.ini 中修改</h3><pre><code>upload_max_filesize = 64M
post_max_size = 64M
max_execution_time = 300
</code></pre><p>然后在nginx-配置-性能配置-请求大小-修改</p><h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题;</h2><h3 id="无法显示菜单和小工具" tabindex="-1"><a class="header-anchor" href="#无法显示菜单和小工具" aria-hidden="true">#</a> 无法显示菜单和小工具</h3><p>原因:文件命名为function.php错误，应为 functions.php</p><p>解决方法：复制可以别的主题的function.php</p><h3 id="无法出现仪表盘" tabindex="-1"><a class="header-anchor" href="#无法出现仪表盘" aria-hidden="true">#</a> 无法出现仪表盘</h3><p>网址后加上wp-login.php</p><h3 id="文章页面found-404" tabindex="-1"><a class="header-anchor" href="#文章页面found-404" aria-hidden="true">#</a> 文章页面found 404</h3><p>url 别名不能设置为中文</p><h3 id="菜单和小工具点击不跳转页面" tabindex="-1"><a class="header-anchor" href="#菜单和小工具点击不跳转页面" aria-hidden="true">#</a> 菜单和小工具点击不跳转页面</h3><p>该网址的别名为中文</p><h3 id="误删数据库且没备份怎么办" tabindex="-1"><a class="header-anchor" href="#误删数据库且没备份怎么办" aria-hidden="true">#</a> 误删数据库且没备份怎么办</h3><p>数据库里存放的都是文章和视频资源，没备份是无法恢复的。若只恢复数据库结构，可删除本地的</p><p>wp-config.php ,再登录localhost/wordpress（wp本地网址）可重建数据库，当然数据库要先在phpstudy</p><p>中创建好</p><h2 id="注意" tabindex="-1"><a class="header-anchor" href="#注意" aria-hidden="true">#</a> 注意：</h2><p>要把分类目录的分类标题隐藏，可直接css中display：none</p><p>误把http改为https,打开数据库的wp-options文件，修改网址即可</p><p>the_title()是输出字符串，the_category()是输出链接，要获取里面的内容，可用变量承接再var_dump输出源内容，使用相应的数组元素</p><p>固定链接设置改变的不仅仅是网址名称，还会使该页面带上添加标签的内容，如添加了categories就会把所有该分类的内容都放进页面中</p>`,29);function $(z,E){const e=o("ExternalLinkIcon");return i(),r("div",null,[c,a("h3",d,[h,n(),a("a",u,[n("安装"),s(e)])]),_,a("p",null,[a("a",k,[n("教程1"),s(e)])]),a("p",null,[a("a",g,[n("教程2"),s(e)])]),a("h3",m,[b,n(),a("a",v,[n("高级样式"),s(e)])]),f,a("p",null,[a("a",x,[n("只展示指定分类内容"),s(e)])]),w,a("p",null,[n("wp_list_bookmarks() 友情链接 "),a("a",y,[n("如何使用"),s(e)])]),q])}const N=t(l,[["render",$],["__file","Wordpress笔记.html.vue"]]);export{N as default};
